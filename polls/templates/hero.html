{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GoalTweaks || {{user.username}}'s Goals</title>
  <link rel="stylesheet" href="{% static 'css/hero.css' %}">
  <link href="{% static 'css/styles_preview.css' %}" rel="stylesheet">
</head>
<body>
  {% include 'sidebar_component.html' %}

  <div class="main-content">
    <header class="main-header">
      <div class="logo-container">
          <a href="{% url 'home' %}" class="logo-link">
              <img src="{% static 'images/gtlogo.png' %}" 
                  alt="GoalTweaks Logo" 
                  class="logo-img"/>  
          </a>
          
      </div>
      <div class="page-titles">
        <h1 class="homepage-header">{{ user.username }}'s Goals</h1>
      </div>
      <div class="auth-buttons">
          <a href="{% url 'student_dashboard' %}" class="auth-btn dashboard-btn">My Dashboard</a>
          <form action="{% url 'logout' %}" method="POST" class="logout-form">
              {% csrf_token %}
              <button type="submit" class="auth-btn logout-btn">Logout</button>
          </form>
      </div>
    </header>
    

    <main class="hero-container">
      
      {% if latest_entry %}
      <div class="prediction-card">
          <h2>ğŸ“Š Predicted Score: {{ latest_entry.predicted_score }}%</h2>
          <p><strong>Study Plan:</strong> {{ latest_entry.study_plan }}</p>
      </div>
      {% else %}
          <p>No prediction yet. Add a course to get started!</p>
      {% endif %}

      <div class="button-group">
        <a href="{% url 'create_subject_entry' %}" class="btn">Add New Course</a>
        <a href="{% url 'get_guidance' %}" class="btn">View Study Advice</a>
      </div>

      <section class="cards">
        <div class="card">
          <h3>ğŸ“˜ Courses Summary</h3>
          <ul>
            {% for course in courses %}
            <li>
              {{ course.subject_name }} â€“ {{ course.predicted_score }}%
              <form method="post" action="{% url 'delete_course' course.id %}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this course?');">
                {% csrf_token %}
                <button type="submit" style="color:red; border:none; background:none; cursor:pointer;">ğŸ—‘ï¸ Delete</button>
              </form>
            </li>
            {% empty %}
              <li>No courses added yet.</li>
            {% endfor %}
          </ul>
        </div>

        <div class="card">
          <h3>ğŸ”® Latest Feadback</h3>
          <p>{{ recent_feedback }}</p>
        </div>
      </section>

      <section class="preferred_learning_style">
        <h3>Preferred Learning Style</h3>
        <p>{{course.preferred_learning_style}}</p>
      </section>
    </main>
  </div>
</body>
</html>

  

